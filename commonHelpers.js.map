{"version":3,"file":"commonHelpers.js","sources":["../src/js/ref.js","../src/js/helpersStorage.js","../src/js/constants.js","../src/js/showMarkup.js","../src/js/removeElement.js","../src/main.js"],"sourcesContent":["export default {\n  form: document.querySelector('#task-form'),\n  list: document.querySelector('#task-list'),\n};\n","\nexport function getLocalStorage(key) {\n  return JSON.parse(localStorage.getItem(key));\n}\n\nexport function setLocalStorage(key, data) {\n  localStorage.setItem(key, JSON.stringify(data));\n}\n","export const TASK_KEY = 'ui-theme';\n","import ref from './ref';\nimport { getLocalStorage } from './helpersStorage';\nimport { TASK_KEY } from './constants';\nconst { list } = ref;\n\nexport function showTask() {\n  const data = getLocalStorage(TASK_KEY);\n  if (!data) return;\n\n  const markup = data\n    .map(\n      item =>\n        `<li id=\"${item.id}\">${item.name} <button type=\"button\">X</button></li>`\n    )\n    .join('');\n  list.insertAdjacentHTML('beforeend', markup);\n}\n","import ref from './ref';\nimport { getLocalStorage, setLocalStorage } from './helpersStorage';\nimport { TASK_KEY } from './constants';\nconst { list } = ref;\n\nlist.addEventListener('click', deleteTask);\n\nfunction deleteTask(evt) {\n  if (evt.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  evt.target.parentNode.remove();\n  const array = getLocalStorage(TASK_KEY);\n  const newArray = array.filter(item => item.id !== evt.target.parentNode.id);\n  setLocalStorage(TASK_KEY, newArray);\n}\n","import { nanoid } from 'nanoid';\nimport ref from './js/ref';\nimport { showTask } from './js/showMarkup';\nimport { getLocalStorage, setLocalStorage } from './js/helpersStorage';\nimport './js/removeElement';\nimport { TASK_KEY } from './js/constants';\n\nconst { form, list } = ref;\n\nshowTask();\n\nform.addEventListener('submit', onHandleSubmit);\n\nfunction onHandleSubmit(evt) {\n  evt.preventDefault();\n  if (!evt.target.taskName.value.trim()) return;\n\n  addTask(evt.target.taskName.value.trim());\n  evt.target.reset();\n}\n\nfunction addTask(value) {\n  const array = getLocalStorage(TASK_KEY) || [];\n  const id = nanoid();\n  createMarkup(value, id);\n\n  array.push({ id, name: value });\n  setLocalStorage(TASK_KEY, array);\n}\n\nfunction createMarkup(value, id) {\n  const markup = `<li id='${id}'>${value} <button type=\"button\">X</button></li>`;\n  list.insertAdjacentHTML('beforeend', markup);\n}\n"],"names":["ref","getLocalStorage","key","setLocalStorage","data","TASK_KEY","list","showTask","markup","item","deleteTask","evt","newArray","form","onHandleSubmit","addTask","value","array","id","nanoid","createMarkup"],"mappings":"oFAAA,MAAeA,EAAA,CACb,KAAM,SAAS,cAAc,YAAY,EACzC,KAAM,SAAS,cAAc,YAAY,CAC3C,ECFO,SAASC,EAAgBC,EAAK,CACnC,OAAO,KAAK,MAAM,aAAa,QAAQA,CAAG,CAAC,CAC7C,CAEO,SAASC,EAAgBD,EAAKE,EAAM,CACzC,aAAa,QAAQF,EAAK,KAAK,UAAUE,CAAI,CAAC,CAChD,CCPO,MAAMC,EAAW,WCGlB,CAAEC,KAAAA,CAAM,EAAGN,EAEV,SAASO,GAAW,CACzB,MAAMH,EAAOH,EAAgBI,CAAQ,EACrC,GAAI,CAACD,EAAM,OAEX,MAAMI,EAASJ,EACZ,IACCK,GACE,WAAWA,EAAK,EAAE,KAAKA,EAAK,IAAI,wCACnC,EACA,KAAK,EAAE,EACVH,EAAK,mBAAmB,YAAaE,CAAM,CAC7C,CCbA,KAAM,CAAEF,KAAAA,CAAM,EAAGN,EAEjBM,EAAK,iBAAiB,QAASI,CAAU,EAEzC,SAASA,EAAWC,EAAK,CACvB,GAAIA,EAAI,OAAO,WAAa,SAC1B,OAGFA,EAAI,OAAO,WAAW,SAEtB,MAAMC,EADQX,EAAgBI,CAAQ,EACf,OAAOI,GAAQA,EAAK,KAAOE,EAAI,OAAO,WAAW,EAAE,EAC1ER,EAAgBE,EAAUO,CAAQ,CACpC,CCTA,KAAM,CAAE,KAAAC,EAAM,KAAAP,CAAM,EAAGN,EAEvBO,IAEAM,EAAK,iBAAiB,SAAUC,CAAc,EAE9C,SAASA,EAAeH,EAAK,CAC3BA,EAAI,eAAc,EACbA,EAAI,OAAO,SAAS,MAAM,KAAI,IAEnCI,EAAQJ,EAAI,OAAO,SAAS,MAAM,KAAI,CAAE,EACxCA,EAAI,OAAO,QACb,CAEA,SAASI,EAAQC,EAAO,CACtB,MAAMC,EAAQhB,EAAgBI,CAAQ,GAAK,CAAA,EACrCa,EAAKC,IACXC,EAAaJ,EAAOE,CAAE,EAEtBD,EAAM,KAAK,CAAE,GAAAC,EAAI,KAAMF,CAAO,CAAA,EAC9Bb,EAAgBE,EAAUY,CAAK,CACjC,CAEA,SAASG,EAAaJ,EAAOE,EAAI,CAC/B,MAAMV,EAAS,WAAWU,CAAE,KAAKF,CAAK,yCACtCV,EAAK,mBAAmB,YAAaE,CAAM,CAC7C"}